# ğŸ—£ ì½”ë“œë¥¼ í•œì¤„í•œì¤„ ì„¤ëª…í•˜ë©´ì„œ ì´í•´í•´ë³´ê¸°

async awaitê³¼ fetchê°€ ì•„ì§ ì–´ë ¤ì›Œì„œ ì½”ë“œë¥¼ í•œì¤„í•œì¤„ ì´í•´í•˜ë ¤ê³  ì ì–´ë³´ì•˜ë‹¤.
ì ë‹¤ë³´ë‹ˆ js ìì²´ê°€ ì•„ì§ ë§ì´ ë¶€ì¡±í•˜ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆë‹¤ ğŸ˜‚
ë§ì´ ì •í™•í•˜ì§€ ëª»í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì¤„ ê¸€ë¡œ í’€ì–´ì„œ ì“°ë‹ˆê¹Œ ì´í•´ê°€ ì‰¬ìš´ ê²ƒ ê°™ë‹¤!
ë‚¨ì—ê²Œ ì„¤ëª…í•´ì¤„ ë•Œì—ë„ ì¢‹ì„ ê²ƒ ê°™ê³  ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ë³¼ ë•Œì—ë„ ì˜ ê¸°ì–µí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ ì‘ì„±í•´ë³´ê¸¸ ì˜í–ˆë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.

## getData()

### ë°ì´í„° ë°›ì•„ì˜¤ê¸°

| ![image](https://user-images.githubusercontent.com/77143425/199437554-2d2deb44-9be0-4636-83ec-ca92f3980f7d.png) ![image](https://user-images.githubusercontent.com/77143425/199437711-64a1930f-ecc5-47b2-b8c0-6286129aff52.png) | ![image](https://user-images.githubusercontent.com/77143425/199438886-24a593f8-4d5b-49b1-8a09-ec58d6df0fd7.png) |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------: |
| console.log(await response.json());                                                                                                                                                                                             |                                      draw í•¨ìˆ˜ì— ë“¤ì–´ê°ˆ ê°ê°ì˜ ë°ì´í„° ëª¨ìŠµ                                      |

#### getData() í•¨ìˆ˜ ì‹¤í–‰

| <img width="400" alt="ë°ì´í„°ê°€ì ¸ì˜¤ê¸°1" src="https://user-images.githubusercontent.com/77143425/199501386-9b6a88ad-fef0-4494-9956-63516d1c9d9a.png"/> | <img width="400" alt="ë°ì´í„°ê°€ì ¸ì˜¤ê¸°1" src="https://user-images.githubusercontent.com/77143425/199501393-d53f3e23-3c00-4e55-b084-92ba66e19243.png"/> |
| ---------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------: |

1. ë°ì´í„°ëŠ” í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”©í…ŒìŠ¤íŠ¸ ì—°ìŠµ í˜ì´ì§€ì— ë“¤ì–´ê°€ì„œ ê°œë°œìë„êµ¬ -> ë„¤íŠ¸ì›Œí¬ íƒ­ì— ê°€ë©´ ë¶ˆëŸ¬ì˜¨ ì†ŒìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë° ì—¬ê¸°ì—ì„œ ë§í¬ë¥¼ ê°€ì ¸ì™”ë‹¤.
2. fetch ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜ , awaitì€ í”„ë¡œë¯¸ìŠ¤ê°€ resolve í•œ ê°’ì¸ Response ê°ì²´ë¥¼ ë°˜í™˜ (responce ë¼ëŠ” ë³€ìˆ˜ ì•ˆì— ì‘ë‹µ ë°ì´í„°ê°€ ë‹´ê²¨ìˆìŒ)
3. json í˜•íƒœë¡œ íŒŒì‹±ëœ ì‘ë‹µ ë°ì´í„° ê°’ì´ êµ¬ì¡°ë¶„í•´í• ë‹¹ì„ í†µí•´ ë‚˜ëˆ ì ¸ì„œ ì €ì¥ë˜ëŠ”ë° ì´ë•Œ, ì‘ë‹µ ë°ì´í„° ê°’ì—ì„œ resultì— í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì€ problemList ë³€ìˆ˜ì— ê°ì²´ í˜•íƒœë¡œ ì €ì¥
4. ì‘ë‹µ ë°ì´í„° ê°’ì—ì„œ totalPagesëŠ” totalPages ë³€ìˆ˜ì— ì €ì¥
5. ìš°ë¦¬ê°€ ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” í˜ì´ì§€ê°€ 1ì¸ ê³³ì—ì„œì˜ ë°ì´í„°ë“¤ì´ê³  í˜ì´ì§€ëŠ” ì´ 16í˜ì´ì§€ê°€ ìˆê¸° ë•Œë¬¸ì— forë¬¸ì„ í˜ì´ì§€ì˜ ì´ ìˆ˜ ë§Œí¼ ëŒë ¤ì„œ pageë¼ëŠ” ë³€ìˆ˜ì— í”„ë¡œë¯¸ìŠ¤ê°€ resolve í•œ ê°’ì¸ Response ê°ì²´ë¥¼ ì•„ê¹Œì²˜ëŸ¼ ë°˜í™˜í•œë‹¤.
6. 2~ì „ì²´ í˜ì´ì§€ìˆ˜ ë§Œí¼ì˜ ì‘ë‹µ ë°ì´í„°ë“¤ ì¤‘ resultì— í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì„ 1í˜ì´ì§€ ë°ì´í„°ë¥¼ ë‹´ì•„ë‘” ë³€ìˆ˜ì— ì¶”ê°€í•´ì¤€ë‹¤.
7. ê°ì²´ë¡œ í•œë° ëª¨ì€ problemListë¥¼ forEach ë¬¸ì„ ì´ìš©í•´ì„œ ul íƒœê·¸ì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•´ì¤€ë‹¤. ì´ë•Œ, ê°ê°ì˜ ë¬¸ì œë“¤ì„ í™”ë©´ì— ê·¸ë ¤ì¤„ ìˆ˜ ìˆëŠ” problemDraw ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
8. ulì„ view (ë¬¸ì œë¥¼ í™”ë©´ì— ë³´ì—¬ì¤„ section ìš”ì†Œ) ì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.
9. problemListë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ problemArr ë°°ì—´ì— ë‹´ëŠ”ë‹¤.

```js
async function getData() {
  try {
    const response = await fetch(
      "https://school.programmers.co.kr/api/v1/school/challenges/?page=1&perPage=20&languages[]=javascript&order=acceptance_desc"
    );

    const { result: problemList, totalPages } = await response.json();
    console.log(problemList);
    console.log(totalPages);

    for (let i = 2; i <= totalPages; i++) {
      let page = await fetch(
        `https://school.programmers.co.kr/api/v1/school/challenges/?page=${i}&perPage=20&languages[]=javascript&order=acceptance_desc`
      );
      const { result } = await page.json();
      problemList.push(...result);
    }

    problemList.forEach((problem) => {
      ul.append(problemDraw(problem));
    });

    problemArr = [...problemList];
    view.append(ul);
  } catch (e) {
    console.log(e);
  }
}
```

## ë ˆë²¨ ë²„íŠ¼

### ë ˆë²¨ ë³„ë¡œ ë¬¸ì œ ë³´ì—¬ì£¼ê¸°

1. ë ˆë²¨ë²„íŠ¼ì´ ì—¬ëŸ¬ê°œì´ë¯€ë¡œ ì¿¼ë¦¬ì…€ë ‰í„°allë¡œ ë¶ˆëŸ¬ì™”ë‹¤. ê·¸ë˜ì„œ forEachë¥¼ í†µí•´ ìˆœíšŒí•´ì£¼ì—ˆë‹¤.
2. ê° ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ ì´ë²¤íŠ¸ ë°œìƒ
   - ë§Œì•½, ê²€ìƒ‰í•˜ë‹¤ê°€ ë ˆë²¨ ë²„íŠ¼ì„ ëˆ„ë¥´ëŠ” ê²½ìš°ì—ëŠ” ê²€ìƒ‰í–ˆë˜ í…ìŠ¤íŠ¸ê°€ input ì°½ì— ë‚¨ì•„ìˆê¸° ë•Œë¬¸ì— ì´ˆê¸°í™” í•´ì¤€ë‹¤.
3. ë‚´ê°€ í´ë¦­í•œ ë ˆë²¨ ë²„íŠ¼ì˜ idì™€ ë°ì´í„°ë¥¼ ëª¨ì•„ë‘” ë°°ì—´ì˜ ë ˆë²¨ì´ ê°™ì„ ê²½ìš°, levelProblem ë³€ìˆ˜ì— ë°˜í™˜í•œë‹¤. (ì´ë•Œ, htmlì„ í†µí•´ ì§€ì •í•´ì¤€ Id ê°’ì´ stringì´ë¼ numberë¡œ í˜•ë³€í™˜ì„ í•´ì£¼ì—ˆë‹¤)
4. ulì„ ì´ˆê¸°í™” í—¤ì¤€ í›„ ë‚´ê°€ í´ë¦­í•œ ë ˆë²¨ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì œë°ì´í„°ë¥¼ draw í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³  ulì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.
5. ulì„ view ìš”ì†Œì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.

```js
levelBtn.forEach((BtnItem) => {
  BtnItem.addEventListener("click", () => {
    if (input.value) input.value = "";

    const levelProblem = problemArr.filter(
      (problem) => Number(BtnItem.id) === problem.level
    );
    ul.innerHTML = "";
    levelProblem.forEach((levelProblem) => {
      ul.append(problemDraw(levelProblem));
    });
    view.appendChild(ul);
  });
});
```

## problemDraw() í•¨ìˆ˜

### ë¬¸ì œ í™”ë©´ì— ë„ìš°ê¸°

problemDaw í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „í•´ì§€ëŠ” ë°ì´í„°ì˜ í˜•íƒœ -> {id: 12984, title: 'ì§€í˜• í¸ì§‘', partTitle: 'Summer/Winter Coding(~2018)', level: 4, finishedCount: 545,Â â€¦}

li ìš”ì†Œë¥¼ ìƒì„±í•˜ê³  í´ë˜ìŠ¤ ëª…ì„ ì¶”ê°€í•œ ë’¤, ê° ë°ì´í„°ë“¤ì˜ ê°’ì„ ì´ìš©í•˜ì—¬ í™”ë©´ì— ë³´ì—¬ì£¼ë„ë¡ í•œë‹¤.
ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— lië¥¼ ë¦¬í„´í•œë‹¤.

```js
function problemDraw(problem) {
  console.log(problem);
  const problemLi = document.createElement("li");
  problemLi.classList.add("problemItem");
  problemLi.innerHTML = `
                    <a href="https://school.programmers.co.kr/learn/courses/30/lessons/${problem.id}" target="_blank">
                        <h2 class="problemTitle">${problem.title}</h2>
                        <p class="partTitle">${problem.partTitle}</p>
                    </a>
                    <span class="level">Lv.${problem.level}</span>
                    `;
  return problemLi;
}
```

## searchProblem() ê²€ìƒ‰ í•¨ìˆ˜

| ![image](https://user-images.githubusercontent.com/77143425/199439069-a4fa2c46-128c-4fb7-b037-208b6c63116a.png) |
| --------------------------------------------------------------------------------------------------------------- |
| const searchValue = new RegExp(input.value); <br> `console.log(searchValue)`                                    |

### ê²€ìƒ‰ í•¨ìˆ˜

1. ì„œë¸Œë°‹ì„ ë‚ ë¦¬ë©´ ê¸°ë³¸ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í™”ë©´ ìƒˆë¡œê³ ì¹¨ì„ í•˜ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ”ë‹¤.
2. input ì— ì‘ì„±í•œ ê²€ìƒ‰í•˜ê³ ì í•˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ ì •ê·œí‘œí˜„ì‹ ê°ì²´ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.
3. ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë°°ì—´ì˜ í˜•íƒœë¡œ ë‹´ì€ ë¬¸ì œë°ì´í„° ë°°ì—´ problemArrì—ì„œ filter ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ì •ê·œí‘œí˜„ì‹ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„° ë‚´ titleì„ ì°¾ì•„ ë°°ì—´ í˜•íƒœë¡œ ë°˜í™˜í•œë‹¤.
4. ì²˜ìŒì— ë°ì´í„°ê°€ ëª¨ë‘ ë Œë”ë§ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì´ë¯¸ ë¬¸ì œë“¤ì´ ëª©ë¡ìœ¼ë¡œ ë³´ì—¬ì§€ê³  ìˆë‹¤. í•˜ì§€ë§Œ ë‚˜ëŠ” ê²€ìƒ‰í•œ ë¬¸ì œë“¤ë§Œ í™”ë©´ì— ë³´ì—¬ì£¼ê³  ì‹¶ê¸° ë•Œë¬¸ì— ul ë‚´ì˜ ê°’ë“¤ì„ ëª¨ë‘ ì´ˆê¸°í™”í•œë‹¤.
5. ë‚´ê°€ ê²€ìƒ‰í•œ ê°’ì„ ë§Œì¡±í•˜ëŠ” titleì„ ì°¾ì€ ë¬¸ì œë°ì´í„°ëŠ” forEach ë¬¸ì„ í†µí•´ ìˆœíšŒí•˜ë©´ì„œ í™”ë©´ì— ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  ulì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.
6. ulì„ viewì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.

```js
function searchProblem(e) {
  e.preventDefault();
  // const fragment = new DocumentFragment();  í•˜ìœ„íŠ¸ë¦¬ ì¡°ë¦½ í›„, domì— íŠ¸ë¦¬ë¥¼ ì‚½ì…í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤.
  const searchValue = new RegExp(input.value);
  console.log(searchValue);
  const searchItem = problemArr.filter((problem) =>
    searchValue.test(problem.title)
  );

  /* ê¸°ì¡´ì— ë„ì›Œì¤€ ulì„ ì´ˆê¸°í™”í•˜ê³  ê²€ìƒ‰í•œ ê°’ì„ í™”ë©´ì— ë„ìš´ë‹¤. */
  ul.innerHTML = "";
  searchItem.forEach((searchProblem) => {
    ul.append(problemDraw(searchProblem));
  });
  view.appendChild(ul);

  form.addEventListener("submit", searchProblem);
}
```
